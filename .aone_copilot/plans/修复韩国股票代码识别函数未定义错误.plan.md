### 修复韩国股票代码识别函数未定义错误 ###
在 data_provider/base.py 的 get_daily_data 方法中添加 _is_us_code 和 _is_kr_code 函数的导入/定义，修复 F821 未定义名称错误。

### 问题分析

`get_daily_data` 方法（第 386 行）使用了 `_is_us_code` 和 `_is_kr_code` 函数，但这两个函数未定义：
- `_is_us_code` 在 `akshare_fetcher.py` 中有定义（第 128 行）
- `_is_kr_code` 在 `get_realtime_quote` 方法内部定义（第 545 行），但 `get_daily_data` 无法访问

### 修复方案

**文件**: `data_provider/base.py`

**修改位置**: 第 383-386 行

**当前代码**:
```python
        """
        # 美股/韩股：直接使用 YfinanceFetcher
        if _is_us_code(stock_code) or _is_kr_code(stock_code):
            market_type = "韩股" if _is_kr_code(stock_code) else "美股"
```

**修改为**:
```python
        """
        # 导入美股代码判断函数
        from .akshare_fetcher import _is_us_code
        
        # 定义韩国股票代码判断函数
        def _is_kr_code(code: str) -> bool:
            import re
            return bool(re.match(r'^(KS|KQ)\d{6}$', code.strip().upper()))
        
        # 美股/韩股：直接使用 YfinanceFetcher
        if _is_us_code(stock_code) or _is_kr_code(stock_code):
            market_type = "韩股" if _is_kr_code(stock_code) else "美股"
```

### 验证步骤

1. 运行 flake8 检查确认无 F821 错误
2. 检查所有修改的文件无编译错误
3. 提交修复代码

updateAtTime: 2026/2/1 23:46:13

planId: 

plan_status: review